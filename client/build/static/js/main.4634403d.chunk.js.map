{"version":3,"sources":["vip.png","httpClient.js","NavBar.jsx","views/LogIn.jsx","views/LogOut.jsx","views/SignUp.jsx","views/Machine.jsx","views/Home.jsx","App.jsx","index.js"],"names":["module","exports","__webpack_require__","p","httpClient","axios","create","getToken","localStorage","getItem","setToken","token","setItem","getCurrentUser","this","jwtDecode","logIn","credentials","_this","method","url","data","then","serverResponse","defaults","headers","common","signUp","userInfo","_this2","console","log","logOut","removeItem","NavBar","props","react_default","a","createElement","className","react_router_dom","to","currentUser","LogIn","state","fields","email","password","evt","setState","Object","objectSpread","defineProperty","target","name","value","preventDefault","user","onLoginSuccess","history","push","_this$state$fields","onChange","onInputChange","bind","onSubmit","onFormSubmit","type","placeholder","React","Component","LogOut","onLogOut","react_router","SignUp","onSignUpSuccess","Machine","src","vipImage","alt","Home","App","src_NavBar","path","render","views_LogIn","assign","views_LogOut","views_SignUp","views_Machine","component","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4634403d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vip.009911f9.png\";","import axios from 'axios'\r\nimport jwtDecode from 'jwt-decode'\r\n\r\n// instantiate axios\r\nconst httpClient = axios.create()\r\n\r\nhttpClient.getToken = function() {\r\n\treturn localStorage.getItem('token')\r\n}\r\n\r\nhttpClient.setToken = function(token) {\r\n\tlocalStorage.setItem('token', token)\r\n\treturn token\r\n}\r\n\r\nhttpClient.getCurrentUser = function() {\r\n\tconst token = this.getToken()\r\n\tif(token) return jwtDecode(token)\r\n\treturn null\r\n}\r\n\r\nhttpClient.logIn = function(credentials) {\t\r\n\treturn this({ method: 'post', url: '/api/users/authenticate', data: credentials })\r\n\t\t.then((serverResponse) => {\r\n\t\t\tconst token = serverResponse.data.token\r\n\t\t\tif(token) {\r\n\t\t\t\t// sets token as an included header for all subsequent api requests\r\n\t\t\t\tthis.defaults.headers.common.token = this.setToken(token)\r\n\t\t\t\treturn jwtDecode(token)\r\n\t\t\t} else {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\n// SignUp function - if someone attempts to signup a second time, will return false\r\nhttpClient.signUp = function(userInfo) {\r\n\treturn this({ method: 'post', url: '/api/users', data: userInfo})\r\n\t\t.then((serverResponse) => {\r\n\t\t\tconst token = serverResponse.data.token\r\n\t\t\tif(token) {\r\n\t\t\t\t// sets token as an included header for all subsequent api requests\r\n\t\t\t\tconsole.log(`signup`)\r\n\t\t\t\tconsole.log(this.defaults)\r\n\t\t\t\tthis.defaults.headers.common.token = this.setToken(token)\r\n\t\t\t\tconsole.log(this.defaults)\r\n\t\t\t\treturn jwtDecode(token)\r\n\t\t\t} else {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nhttpClient.logOut = function() {\r\n\tlocalStorage.removeItem('token')\r\n\tdelete this.defaults.headers.common.token\r\n\treturn true\r\n}\r\n\r\n// During initial app load attempt to set a localStorage stored token\r\n// as a default header for all api requests.\r\nhttpClient.defaults.headers.common.token = httpClient.getToken()\r\nexport default httpClient","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst NavBar = (props) => {\r\n\treturn (\r\n\t\t<div className='NavBar'>\r\n\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t{props.currentUser\r\n\t\t\t\t? (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Link to=\"/machine\">Machine</Link>\r\n\t\t\t\t\t\t<Link to=\"/logout\">Log Out</Link>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)\r\n\t\t\t\t: (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Link to=\"/login\">Log In</Link>\r\n\t\t\t\t\t\t<Link to=\"/signup\">Sign Up</Link>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default NavBar","import React from 'react'\r\nimport httpClient from '../httpClient'\r\n\r\nclass LogIn extends React.Component {\r\n\tstate = {\r\n\t\tfields: { email: '', password: ''}\r\n\t}\r\n\r\n\tonInputChange(evt) {\r\n\t\tthis.setState({\r\n\t\t\tfields: {\r\n\t\t\t\t...this.state.fields,\r\n\t\t\t\t[evt.target.name]: evt.target.value\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonFormSubmit(evt) {\r\n\t\tevt.preventDefault()\r\n\t\thttpClient.logIn(this.state.fields).then(user => {\r\n\t\t\tthis.setState({ fields: { email: '', password: '' } })\r\n\t\t\tif(user) {\r\n\t\t\t\tthis.props.onLoginSuccess(user)\r\n\t\t\t\tthis.props.history.push('/')\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { email, password } = this.state.fields\r\n\t\treturn (\r\n\t\t\t<div className='LogIn'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='column column-33 column-offset-33'>\r\n\t\t\t\t\t\t<h1>Log In</h1>\r\n\t\t\t\t\t\t<form onChange={this.onInputChange.bind(this)} onSubmit={this.onFormSubmit.bind(this)}>\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Email\" name=\"email\" value={email} />\r\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"password\" value={password} />\r\n\t\t\t\t\t\t\t<button>Log In</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default LogIn","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass LogOut extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.onLogOut()\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn <Redirect to=\"/login\" />\r\n\t}\r\n}\r\n\r\nexport default LogOut","import React from 'react'\r\nimport httpClient from '../httpClient'\r\n\r\n// sign up form behaves almost identically to log in form. We could create a flexible Form component to use for both actions, but for now we'll separate the two:\r\nclass SignUp extends React.Component {\r\n\tstate = {\r\n\t\tfields: { name: '', email: '', password: ''}\r\n\t}\r\n\r\n\tonInputChange(evt) {\r\n\t\tthis.setState({\r\n\t\t\tfields: {\r\n\t\t\t\t...this.state.fields,\r\n\t\t\t\t[evt.target.name]: evt.target.value\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonFormSubmit(evt) {\r\n\t\tevt.preventDefault()\r\n\t\thttpClient.signUp(this.state.fields).then(user => {\r\n\t\t\tthis.setState({ fields: { name: '', email: '', password: '' } })\r\n\t\t\tif(user) {\r\n\t\t\t\tthis.props.onSignUpSuccess(user)\r\n\t\t\t\tthis.props.history.push('/')\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { name, email, password } = this.state.fields\r\n\t\treturn (\r\n\t\t\t<div className='SignUp'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='column column-33 column-offset-33'>\r\n\t\t\t\t\t\t<h1>Sign Up</h1>\r\n\t\t\t\t\t\t<form onChange={this.onInputChange.bind(this)} onSubmit={this.onFormSubmit.bind(this)}>\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Name\" name=\"name\" value={name} />\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Email\" name=\"email\" value={email} />\r\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"password\" value={password} />\r\n\t\t\t\t\t\t\t<button>Sign Up</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default SignUp","import React from 'react'\r\nimport vipImage from '../vip.png'\r\n\r\nconst Machine = (props) => {\r\n\treturn (\r\n\t\t<div className='VIP'>\r\n\t\t\t<h1>Welcome to Strategic Machines!</h1>\r\n\t\t\t<img src={vipImage} alt=\"VIP\" />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Machine ","import React from 'react'\r\n\r\nconst Home = (props) => {\r\n\treturn (\r\n\t\t<div className='Home'>\r\n\t\t\t<h1>Strategic Machines</h1>\r\n\t\t\t<h2>Secure Messaging</h2>\r\n\t\t\t<h3>JSON Web Token Demo</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport httpClient from './httpClient'\r\n\r\nimport NavBar from './NavBar'\r\nimport LogIn from './views/LogIn'\r\nimport LogOut from './views/LogOut'\r\nimport SignUp from './views/SignUp'\r\nimport Machine from './views/Machine'\r\nimport Home from './views/Home'\r\n\r\nclass App extends React.Component {\r\n\tstate = { currentUser: httpClient.getCurrentUser() }\r\n\r\n\tonLoginSuccess(user) {\r\n\t\tthis.setState({ currentUser: httpClient.getCurrentUser() })\r\n\t}\r\n\r\n\tlogOut() {\r\n\t\thttpClient.logOut()\r\n\t\tthis.setState({ currentUser: null })\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { currentUser } = this.state\r\n\t\treturn (\r\n\t\t\t<div className='App container'>\r\n\r\n\t\t\t\t<NavBar currentUser={currentUser} />\r\n\r\n\t\t\t\t<Switch>\r\n\r\n\t\t\t\t\t<Route path=\"/login\" render={(props) => {\r\n\t\t\t\t\t\treturn <LogIn {...props} onLoginSuccess={this.onLoginSuccess.bind(this)} />\r\n\t\t\t\t\t}} />\r\n\r\n\t\t\t\t\t<Route path=\"/logout\" render={(props) => {\r\n\t\t\t\t\t\treturn <LogOut onLogOut={this.logOut.bind(this)} />\r\n\t\t\t\t\t}} />\r\n\r\n\t\t\t\t\t{/* the sign up component takes an 'onSignUpSuccess' prop which will perform the same thing as onLoginSuccess: set the state to contain the currentUser */}\r\n\t\t\t\t\t<Route path=\"/signup\" render={(props) => {\r\n\t\t\t\t\t\treturn <SignUp {...props} onSignUpSuccess={this.onLoginSuccess.bind(this)} />\r\n\t\t\t\t\t}} />\r\n\r\n\t\t\t\t\t<Route path=\"/machine\" render={() => {\r\n\t\t\t\t\t\treturn currentUser\r\n\t\t\t\t\t\t\t? <Machine />\r\n\t\t\t\t\t\t\t: <Redirect to=\"/login\" />\r\n\t\t\t\t\t}} />\r\n\r\n\t\t\t\t\t<Route path=\"/\" component={Home} />\r\n\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport 'milligram'\r\nimport './styles.css'\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n\t<Router><App /></Router>,\r\n\tdocument.getElementById('root')\r\n)"],"sourceRoot":""}